"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["pull-requests-processing-indicator"],{74121:(e,t,r)=>{r.d(t,{Z:()=>l});var n=r(58081),i=r(15388),o=r(15173);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}let s={small:"16px",medium:"32px",large:"64px"};function c({size:e="medium",...t}){let r=s[e];return n.createElement("svg",a({height:r,width:r,viewBox:"0 0 16 16",fill:"none"},t),n.createElement("circle",{cx:"8",cy:"8",r:"7",stroke:"currentColor",strokeOpacity:"0.25",strokeWidth:"2",vectorEffect:"non-scaling-stroke"}),n.createElement("path",{d:"M15 8a7.002 7.002 0 00-7-7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",vectorEffect:"non-scaling-stroke"}))}c.displayName="Spinner";let l=(0,i.ZP)(c).withConfig({displayName:"Spinner__StyledSpinner",componentId:"sc-1knt686-0"})(["@keyframes rotate-keyframes{100%{transform:rotate(360deg);}}animation:rotate-keyframes 1s linear infinite;",""],o.Z);l.displayName="Spinner"},97011:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(15388),i=r(42379),o=r(15173);let a=n.ZP.span.withConfig({displayName:"Text",componentId:"sc-17v1xeu-0"})(["",";",";",";"],i.l$,i.CW,o.Z)},42379:(e,t,r)=>{r.d(t,{CW:()=>d,l$:()=>h,U2:()=>l});var n=r(44547),i=r(27999),o=r(72972);let{get:a,compose:s,system:c}=i,l=e=>(function(e,t){return void 0===t&&(t=null),function(r){return(0,n.U2)(r.theme,e,t)}})(e,a(o.Z,e)),d=s(i.Dh,i.$_,i.jf),u=c({whiteSpace:{property:"whiteSpace"}}),h=s(i.cp,u);s(i.Cg,i.AF),i.bK},31171:(e,t,r)=>{r.d(t,{z:()=>i});var n=r(58081);function i(e,t){(0,n.useImperativeHandle)(e,()=>t.current)}},79697:(e,t,r)=>{let n;r.d(t,{YT:()=>h,qP:()=>m,yM:()=>p});var i=r(88149),o=r(86058),a=r(56363),s=r(43786);let{getItem:c}=(0,a.Z)("localStorage"),l="dimension_",d=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","scid"];try{let e=(0,i.n)("octolytics");delete e.baseContext,n=new o.R(e)}catch(e){}function u(e){let t=(0,i.n)("octolytics").baseContext||{};if(t)for(let[e,r]of(delete t.app_id,delete t.event_url,delete t.host,Object.entries(t)))e.startsWith(l)&&(t[e.replace(l,"")]=r,delete t[e]);let r=document.querySelector("meta[name=visitor-payload]");for(let[e,n]of(r&&Object.assign(t,JSON.parse(atob(r.content))),new URLSearchParams(window.location.search)))d.includes(e.toLowerCase())&&(t[e]=n);return t.staff=(0,s.B)().toString(),Object.assign(t,e)}function h(e){n?.sendPageView(u(e))}function m(e,t={}){let r=document.head?.querySelector('meta[name="current-catalog-service"]')?.content,i=r?{service:r}:{};for(let[e,r]of Object.entries(t))null!=r&&(i[e]=`${r}`);n&&(u(i),n.sendEvent(e||"unknown",u(i)))}function p(e){return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,JSON.stringify(t)]))}},35785:(e,t,r)=>{var n=r(74898),i=r(48055),o=r(87623),a=r(42483),s=r(88216),c=r(74121),l=r(97011),d=r(41436),u=r(58081),h=r(59434),m=r(47658),p=r(44459),f=r(85529);let g={stale:!1,latest_unsynced_push_to_head_ref_at:null};function _({processingIndicatorUrl:e,repositoryId:t,pullRequestId:r}){let[n,s]=(0,u.useState)(g),c=(0,p.Z)(),l=(0,u.useCallback)(async()=>{try{let t=await (0,o.v)(e);if(t.ok){let e=await t.json();c()&&s(e)}}catch(e){c()&&s(g)}},[c,e]);(0,u.useEffect)(()=>{l()},[]);let{stale:d,latest_unsynced_push_to_head_ref_at:h}=n;return(0,i.jsx)(a.Z,{sx:{mt:-2},children:(0,i.jsx)(m.n,{appName:"pull-requests-processing-indicator",category:"render",metadata:{},children:(0,i.jsx)(y,{pullRequestId:r,repositoryId:t,stale:d,latest_unsynced_push_to_head_ref_at:h})})})}function y({pullRequestId:e,repositoryId:t,stale:r,latest_unsynced_push_to_head_ref_at:n}){let{sendAnalyticsEvent:o}=(0,h.z)();if(!r||!n)return null;let u=new Date,m=new Date(n),p=Math.round(u.getTime()-m.getTime())/1e3;return p<20||p>=86400?null:(o("pull_requests.processing_indicator","",{repositoryId:t,pullRequestId:e,secondsSinceLastPush:p}),(0,i.jsx)(d.u,{text:"Recent push is still being processed, and will show up in a bit",direction:"s",children:(0,i.jsx)(s.r,{as:"a",href:"https://gh.io/pr-sync-in-progress",variant:"invisible",sx:{color:"fg.muted"},trailingVisual:f.LinkExternalIcon,children:(0,i.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",fontWeight:400},children:[(0,i.jsx)(c.Z,{size:"small",sx:{color:"fg.muted"}}),(0,i.jsx)(l.Z,{sx:{color:"fg.muted",fontSize:0,ml:2},children:"Processing updates"})]})})}))}try{_.displayName||(_.displayName="PullRequestsProcessingIndicatorWithDataFetching")}catch{}try{y.displayName||(y.displayName="PullRequestsProcessingIndicator")}catch{}(0,n.t)("pull-requests-processing-indicator",{Component:_})},83206:(e,t,r)=>{r.d(t,{e:()=>DeferredRegistry});let DeferredRegistry=class DeferredRegistry{register(e,t){let r=this.registrationEntries[e];r?r.resolve?.(t):this.registrationEntries[e]={promise:Promise.resolve(t)}}getRegistration(e){var t;return(t=this.registrationEntries)[e]||(t[e]=new n),this.registrationEntries[e].promise}constructor(){this.registrationEntries={}}};let n=class Deferred{constructor(){this.promise=new Promise(e=>{this.resolve=e})}}},48968:(e,t,r)=>{r.d(t,{Ac:()=>o,Z_:()=>a,ev:()=>i});var n=r(58081);function i(e){return((0,n.useEffect)(()=>{let t=e?.anchor;t&&("disabled"in t&&(t.disabled=!1),t.classList.remove("cursor-wait"))},[e]),e)?{reactPartialAnchor:{__wrapperElement:e}}:{}}function o(e){let t=(0,n.useRef)(e.__wrapperElement.anchor||null),[r,i]=(0,n.useState)(!1),o=(0,n.useCallback)(()=>{i(!r)},[r,i]);return(0,n.useEffect)(()=>{t.current&&(t.current.setAttribute("aria-expanded",r.toString()),t.current.setAttribute("aria-haspopup","true"))},[t,r]),a(e,o),{ref:t,open:r,setOpen:i}}function a(e,t){let r=(0,n.useRef)(e.__wrapperElement.anchor);(0,n.useEffect)(()=>{let e=r.current;if(e)return e.addEventListener("click",t),()=>e.removeEventListener("click",t)},[r,t])}},74898:(e,t,r)=>{r.d(t,{t:()=>l});let n=new(r(83206)).e;var i=r(48055),o=r(76006),a=r(60302),s=r(75069);let c=class ReactPartialElement extends a.S{async getReactNode(e){var t;let{Component:r}=await (t=this.name,n.getRegistration(t)),o=this.closest("react-partial-anchor");return(0,i.jsx)(s.S,{partialName:this.name,embeddedData:e,Component:r,wasServerRendered:this.hasSSRContent,ssrError:this.ssrError,anchorElement:o})}constructor(...e){super(...e),this.nameAttribute="partial-name"}};function l(e,t){n.register(e,t)}c=function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a}([o.Ih],c)},82914:(e,t,r)=>{r.d(t,{Z:()=>s});let{getItem:n,setItem:i,removeItem:o}=(0,r(56363).Z)("localStorage"),a="REACT_PROFILING_ENABLED",s={enable:()=>i(a,"true"),disable:()=>o(a),isEnabled:()=>!!n(a)}},59434:(e,t,r)=>{r.d(t,{w:()=>s,z:()=>a});var n=r(58081),i=r(79697),o=r(15470);function a(){let e=(0,n.useContext)(o.f);if(!e)throw Error("useAnalytics must be used within an AnalyticsContext");let{appName:t,category:r,metadata:a}=e;return{sendAnalyticsEvent:(0,n.useCallback)((e,n,o={})=>{let s={react:!0,app_name:t,category:r,...a};(0,i.qP)(e,{...s,...o,target:n})},[t,r,a])}}function s(){let{sendAnalyticsEvent:e}=a();return{sendClickAnalyticsEvent:(0,n.useCallback)((t={})=>{e("analytics.click",void 0,t)},[e])}}},87623:(e,t,r)=>{function n(e,t={}){!function(e){if(new URL(e,window.location.origin).origin!==window.location.origin)throw Error("Can not make cross-origin requests from verifiedFetch")}(e);let r={...t.headers,"GitHub-Verified-Fetch":"true","X-Requested-With":"XMLHttpRequest"};return fetch(e,{...t,headers:r})}function i(e,t){let r={...t?.headers??{},Accept:"application/json","Content-Type":"application/json"},i=t?.body?JSON.stringify(t.body):void 0;return n(e,{...t,body:i,headers:r})}r.d(t,{Q:()=>n,v:()=>i})},75069:(e,t,r)=>{r.d(t,{S:()=>p});var n=r(48055),i=r(58081),o=r(53167),a=r(12599),s=r(73216),c=r(89250),l=r(22877);function d({children:e,history:t}){let[r,o]=(0,i.useState)({location:t.location});return(0,l.g)(()=>t.listen(o),[t]),(0,n.jsx)(c.F0,{location:r.location,navigator:t,children:e})}try{d.displayName||(d.displayName="PartialRouter")}catch{}var u=r(80491),h=r(7533),m=r(48968);function p({partialName:e,embeddedData:t,Component:r,wasServerRendered:c,ssrError:l,anchorElement:p}){let f=i.useRef(),g=globalThis.window;f.current||(f.current=g?(0,h.l)({window:g}):(0,a.PP)({initialEntries:[{pathname:"/"}]}));let _=f.current,y=(0,m.ev)(p);return(0,n.jsx)(o.R,{appName:e,wasServerRendered:c,children:(0,n.jsx)(s.i,{history:_,routes:[],children:(0,n.jsxs)(d,{history:_,children:[(0,n.jsx)(r,{...t.props,...y}),(0,n.jsx)(u.P,{ssrError:l})]})})})}try{p.displayName||(p.displayName="PartialEntry")}catch{}},60302:(e,t,r)=>{r.d(t,{S:()=>ReactBaseElement});var n=r(48055),i=r(76006),o=r(27876),a=r(58081),s=r(82914),c=r(18448),l=r(43786);function d(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a}let u=RegExp("Minified React error #(?<invariant>\\d+)");let ReactBaseElement=class ReactBaseElement extends HTMLElement{get name(){return this.getAttribute(this.nameAttribute)}get embeddedDataText(){let e=this.embeddedData?.textContent;if(!e)throw Error(`No embedded data provided for react element ${this.name}`);return e}get hasSSRContent(){return"true"===this.getAttribute("data-ssr")}connectedCallback(){this.renderReact()}disconnectedCallback(){this.root?.unmount(),this.root=void 0}async renderReact(){if(!this.reactRoot)throw Error("No react root provided");let e={createRoot:o.s,hydrateRoot:o.a};s.Z.isEnabled()&&(e=await this.getReactDomWithProfiling());let t=JSON.parse(this.embeddedDataText),r=this.ssrError?.textContent,i=await this.getReactNode(t),c=(0,n.jsx)(a.StrictMode,{children:i});if(r&&this.logSSRError(r),this.hasSSRContent){let t=this.querySelector('style[data-styled="true"]');t&&document.head.appendChild(t),this.root=e.hydrateRoot(this.reactRoot,c,{onRecoverableError:e=>{if(!(e instanceof Error))return;let t=u.exec(e.message),r=String(t?.groups?.invariant);(0,l.b)({incrementKey:"REACT_HYDRATION_ERROR",incrementTags:{appName:this.name,invariant:r}})}}),t&&requestIdleCallback(()=>{t.parentElement?.removeChild(t)})}else this.root=e.createRoot(this.reactRoot),this.root.render(c);this.classList.add("loaded")}getReactDomWithProfiling(){return r.e("react-profiling").then(r.t.bind(r,19547,19))}logSSRError(e){if(c.t[e])return console.error("SSR failed with an expected error:",c.t[e]);try{let t=JSON.parse(e),r=function(e){if(!e.stacktrace)return"";let t="\n ";return e.stacktrace.map(e=>{let{function:r,filename:n,lineno:i,colno:o}=e,a=`${t} at ${r} (${n}:${i}:${o})`;return t=" ",a}).join("\n")}(t);console.error("Error During Alloy SSR:",`${t.type}: ${t.value}
`,t,r)}catch{console.error("Error During Alloy SSR:",e,"unable to parse as json")}}};d([i.fA],ReactBaseElement.prototype,"embeddedData",void 0),d([i.fA],ReactBaseElement.prototype,"ssrError",void 0),d([i.fA],ReactBaseElement.prototype,"reactRoot",void 0);try{u.displayName||(u.displayName="REACT_INVARIANT_ERROR_REGEX")}catch{}},86058:(e,t,r)=>{r.d(t,{R:()=>AnalyticsClient});var n=r(82918);let AnalyticsClient=class AnalyticsClient{constructor(e){this.options=e}get collectorUrl(){return this.options.collectorUrl}get clientId(){return this.options.clientId?this.options.clientId:(0,n.b)()}createEvent(e){return{page:location.href,title:document.title,context:{...this.options.baseContext,...e}}}sendPageView(e){let t=this.createEvent(e);this.send({page_views:[t]})}sendEvent(e,t){let r={...this.createEvent(t),type:e};this.send({events:[r]})}send({page_views:e,events:t}){let r=JSON.stringify({client_id:this.clientId,page_views:e,events:t,request_context:{referrer:function(){let e;try{e=window.top.document.referrer}catch(t){if(window.parent)try{e=window.parent.document.referrer}catch(e){}}return""===e&&(e=document.referrer),e}(),user_agent:navigator.userAgent,screen_resolution:function(){try{return`${screen.width}x${screen.height}`}catch(e){return"unknown"}}(),browser_resolution:function(){let e=0,t=0;try{return"number"==typeof window.innerWidth?(t=window.innerWidth,e=window.innerHeight):null!=document.documentElement&&null!=document.documentElement.clientWidth?(t=document.documentElement.clientWidth,e=document.documentElement.clientHeight):null!=document.body&&null!=document.body.clientWidth&&(t=document.body.clientWidth,e=document.body.clientHeight),`${t}x${e}`}catch(e){return"unknown"}}(),browser_languages:navigator.languages?navigator.languages.join(","):navigator.language||"",pixel_ratio:window.devicePixelRatio,timestamp:Date.now(),tz_seconds:-60*new Date().getTimezoneOffset()}});try{if(navigator.sendBeacon){navigator.sendBeacon(this.collectorUrl,r);return}}catch{}fetch(this.collectorUrl,{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:r,keepalive:!1})}}},82918:(e,t,r)=>{let n;function i(){return`${Math.round(2147483647*Math.random())}.${Math.round(Date.now()/1e3)}`}function o(){try{let e=function(){let e;let t=document.cookie.match(/_octo=([^;]+)/g);if(!t)return;let r=[0,0];for(let n of t){let[,t]=n.split("="),[,i,...o]=t.split("."),a=i.split("-").map(Number);a>r&&(r=a,e=o.join("."))}return e}();if(e)return e;let t=i();return!function(e){let t=`GH1.1.${e}`,r=new Date(Date.now()+31536e6).toUTCString(),{domain:n}=document;n.endsWith(".github.com")&&(n="github.com"),document.cookie=`_octo=${t}; expires=${r}; path=/; domain=${n}; secure; samesite=lax`}(t),t}catch(e){return n||(n=i()),n}}r.d(t,{b:()=>o})},88149:(e,t,r)=>{r.d(t,{n:()=>n});function n(e="ha"){let t;let r={};for(let n of Array.from(document.head.querySelectorAll(`meta[name^="${e}-"]`))){let{name:i,content:o}=n,a=i.replace(`${e}-`,"").replace(/-/g,"_");"url"===a?t=o:r[a]=o}if(!t)throw Error(`AnalyticsClient ${e}-url meta tag not found`);return{collectorUrl:t,...Object.keys(r).length>0?{baseContext:r}:{}}}}},e=>{var t=t=>e(e.s=t);e.O(0,["react-lib","vendors-node_modules_primer_octicons-react_dist_index_esm_js-node_modules_primer_react_lib-es-541a38","vendors-node_modules_primer_react_lib-esm_Box_Box_js","vendors-node_modules_primer_react_lib-esm_FeatureFlags_FeatureFlags_js-node_modules_github_ca-9009bd","vendors-node_modules_primer_react_lib-esm_Button_Button_js","vendors-node_modules_primer_react_lib-esm_TooltipV2_Tooltip_js","ui_packages_react-core_create-browser-history_ts-ui_packages_safe-storage_safe-storage_ts-ui_-682c2c"],()=>t(35785)),e.O()}]);
//# sourceMappingURL=pull-requests-processing-indicator-c4bf064b6106.js.map